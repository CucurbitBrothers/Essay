<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.0 (460661)"/><meta name="author" content="1404001663@qq.com"/><meta name="created" content="2018-09-02 03:08:35 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="yinxiang.win32"/><meta name="source-url" content="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014320981492785ba33cc96c524223b2ea4e444077708d000"/><meta name="updated" content="2020-04-25 09:00:45 +0000"/><title>08-异步</title></head><body><div><h2>深入理解Python异步编程(上)原文链接：</h2><h2> <a href="https://mp.weixin.qq.com/s?__biz=MzIxMjY5NTE0MA==&amp;mid=2247483720&amp;idx=1&amp;sn=f016c06ddd17765fd50b705fed64429c" style="font-size: 11pt; color: rgb(129, 182, 255); font-family: &quot;Microsoft YaHei&quot;;">https://mp.weixin.qq.com/s?__biz=MzIxMjY5NTE0MA==&amp;mid=2247483720&amp;idx=1&amp;sn=f016c06ddd17765fd50b705fed64429c</a></h2><div><br/></div><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;, 宋体, &quot;Myriad Pro&quot;, Lato, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">2013年起由 Python 之父 Guido 亲自操刀主持了Tulip(asyncio)项目的开发</span></div></li></ul><div><br/></div><div><br/></div><ol><li><div><span style="font-size: 16px; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">概念</span></div></li><ul><li><div><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">并行</span></div></li><ul><li><div><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">是为了利用多核加速多任务完成的进度</span></div></li></ul><li style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">并发</span></div></li><ul><li><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">是为了让独立的子任务都有机会被尽快执行，但不一定能加速整体进度</span></div></li></ul><li style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">非阻塞</span></div></li><ul><li><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">是为了提高程序整体执行效率</span></div></li></ul><li><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">异步</span></div></li><ul><li><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">是高效地组织非阻塞任务的方式</span></div></li></ul><li><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; clear: both; min-height: 1em; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">要支持并发，必须拆分为多任务，不同任务相对而言才有阻塞/非阻塞、同步/异步。所以，并发、异步、非阻塞三个词总是如影随形。</span></div></li><li><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; clear: both; min-height: 1em; font-size: 12pt; background-color: rgb(255, 250, 165); box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;-evernote-highlight:true;">异步</span><span style="max-width: 100%; clear: both; min-height: 1em; background-color: rgb(255, 250, 165); font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;-evernote-highlight:true;">编程</span></div></li><ul><li><div><span style="font-size: 12pt; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">以进程，线程，协程，函数/方法作为执行任务程序的基本单位，结合回调，事件循环，信号量等机制，以提高程序整体执行效率和并发能力的编程方式</span></div></li><li><div><span style="font-size: 12pt; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">同步和异步的显著区别：</span></div></li><ul><li><div><span style="font-size: 12pt; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">有序和无序</span></div></li></ul></ul><li><div><span style="font-size: 16px; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">同步与异步</span></div></li><ul><li><div><span style="font-weight: bold; box-sizing: border-box; outline: 0px; overflow-wrap: break-word; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">同步</span><span style="color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">就是整个处理过程顺序执行，当各个过程都执行完毕，并返回结果。是一种线性执行的方式，执行的流程不能跨越。</span><span style="color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">一般用于流程性比较强的程序，比如用户登录，需要对用户验证完成后才能登录系统。</span></div></li><li><div><span style="font-weight: bold; box-sizing: border-box; outline: 0px; overflow-wrap: break-word; color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">异步</span><span style="color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">则是只是发送了调用的指令，调用者无需等待被调用的方法完全执行完毕；而是继续执行下面的流程。是一种并行处理的方式，不必等待一个程序执行完，可以执行其它的任务，比如页面数据加载过程，不需要等所有数据获取后再显示页面。</span></div></li><li><div><span style="color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">区别就在于一个需要等待，一个不需要等待</span></div></li></ul></ul><li><div><span style="font-size: 16px; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">面临问题</span></div></li><ul><li><div><span style="font-size: 12pt; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">成本和效率</span></div></li><li><div><span style="font-size: 12pt; max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">C10k/C10M挑战</span></div></li><ul><li><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system-font;">从技术角度挑战软硬件极限</span></div></li></ul><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">解决方案</span></div></li><ul><li><div><span style="font-size: 12pt;"> </span><span style="letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">“</span><span style="max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">除了瓶颈之外，任何改进都是幻觉。</span><span style="letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">”  -------</span> <span style="letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">《约束理论与企业优化》</span></div></li><li><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system-font;">I/O（</span> <span style="letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">读写内存、读写磁盘、读写网卡</span><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system-font;">）是限制计算机性能的最大瓶颈，</span></div></li><li><div><span style="font-size: 12pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: -apple-system-font;-evernote-highlight:true;">异步编程</span></div></li></ul></ul><li><div><span style="font-size: 12pt; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">异步I/O进化之路</span></div></li><ul><li><div><span style="font-size: 12pt; max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">网络I/O是目前最大的I/O瓶颈，诸多</span> <span style="font-size: 12pt; max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">异步框架都对准的是网络I/O。</span></div></li><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">以爬虫为例，从因特网下载十片文章</span></div></li><ul><li><div><span style="font-size: 16px; font-family: -apple-system-font;">同步阻塞方式</span></div></li><ul><li><div><span style="font-size: 16px; font-family: -apple-system-font;">依次下载，</span></div></li><li><div><span style="font-size: 16px; font-family: -apple-system-font;">效率低下</span></div></li></ul><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">多进程</span></div></li><ul><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">开10个进程执行</span></div></li><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">切换开销大，支持规模小（数十到数百）</span></div></li></ul><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">多线程</span></div></li><ul><li><div><span style="font-size: 12pt; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">线程的数据结构比进程更轻量级，同一个进程可以容纳多个线程</span></div></li><li><div><span style="font-size: 17.3333px; color: rgb(51, 51, 51); font-family: -apple-system-font;">支持规模不够大（数百个到数千个）</span></div></li><li><div><span style="font-size: 17.3333px; color: rgb(51, 51, 51); font-family: -apple-system-font;">主要问题： 竞态条件（无序，需要锁或者同步队列来保证下载顺序不会重复执行）</span></div></li></ul><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">非阻塞方式</span></div></li><ul><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">原始</span></div></li><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">改进</span></div></li><ul><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">epoll（linux）</span></div></li><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">回调（callback）</span></div></li><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">事件循环（</span><span style="font-size: 12pt; font-weight: bold;">Event Loop</span><span style="font-size: 12pt; font-family: -apple-system-font;">）+ 回调</span></div></li><ul><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">等待事件通知的循环</span></div></li><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">可以算作异步编程</span></div></li><li><div><span style="font-size: 12pt; font-family: -apple-system-font;">支持规模达到（</span> <span style="letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">数万到数十万个</span><span style="font-size: 12pt; font-family: -apple-system-font;">）</span></div></li><li><div><span style="font-size: 12pt;">问题：</span></div></li><ul><li><div><span style="max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">回调层次过多时代码可读性差</span></div></li><li><div><span style="font-size: 12pt; max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">破坏代码结构</span></div></li><li><div><span style="font-size: 12pt; max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">共享状态管理困难</span></div></li><li><div><span style="font-size: 12pt; max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">错误处理困难</span></div></li></ul></ul></ul></ul></ul></ul><li><div><span style="font-size: 12pt; color: rgb(46, 46, 46); font-family: &quot;Microsoft YaHei&quot;;">Python对异步I/O的优化</span></div></li><ul><li><div><span style="font-size: 12pt; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">回调之痛，以始为终</span></div></li><ul><li><div><span style="font-size: 12pt; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">在</span><span style="font-size: 12pt; max-width: 100%; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">事件循环+回调</span><span style="font-size: 12pt; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">的基础上衍生出了基于协程的解决方案</span></div></li><li><div><span style="font-size: 12pt; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">代表作有 Tornado、Twisted、asyncio 等</span></div></li></ul><li><div><span style="font-size: 16px; color: rgb(51, 51, 51); font-family: -apple-system-font;">协程（</span> <span style="max-width: 100%; font-size: 17px; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important; color: rgb(51, 51, 51); font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Co-routine</span><span style="font-size: 16px; color: rgb(51, 51, 51); font-family: -apple-system-font;">）</span></div></li><ul><li><div><br/></div></li></ul></ul></ol><div><br/></div><div><br/></div><div><br/></div><div><br/></div><h1 style="padding: 0px; border: 0px; font-size: 1.5rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.5rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><a href="https://www.lylinux.net/article/2019/6/9/57.html" style="font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 1.5rem; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5; background-color: rgb(255, 255, 255);">asyncio
</a></span></h1><ul><li><div>asyncio</div></li></ul><div style="margin: 15px 0px; padding: 10px; background-color: rgb(250, 250, 250); tab-size: 4; overflow: auto; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 18px;">import</span> <span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">threading</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 18px;">import</span> <span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">asyncio</span></div><div><br/></div><div><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">@asyncio.coroutine</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 18px;">def</span> <span style="font-size: 9pt; color: rgb(153, 0, 0); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 18px;">hello</span><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">():</span></div><div><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">    print(</span><span style="font-size: 9pt; color: rgb(221, 17, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">'Hello world! (%s)'</span> <span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">% threading.currentThread())</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 18px;">    yield</span> <span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 18px;">from</span> <span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">asyncio.sleep(</span><span style="font-size: 9pt; color: rgb(0, 153, 153); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">1</span><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">)</span></div><div><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">    print(</span><span style="font-size: 9pt; color: rgb(221, 17, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">'Hello again! (%s)'</span> <span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">% threading.currentThread())</span></div><div><br/></div><div><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">loop = asyncio.get_event_loop()</span></div><div><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">tasks = [hello(), hello()]</span></div><div><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">loop.run_until_complete(asyncio.wait(tasks))</span></div><div><span style="font-size: 9pt; color: rgb(68, 68, 68); font-family: Consolas, monospace, serif; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 18px;">loop.close()</span></div></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">如果把</span><span style="font-size: 12px; white-space: nowrap; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(250, 250, 250); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(221, 0, 85); font-family: Consolas, monospace, serif; font-variant-caps: normal; font-variant-ligatures: normal;">asyncio.sleep()</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">换成真正的IO操作，则多个</span><span style="font-size: 12px; white-space: nowrap; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(250, 250, 250); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(221, 0, 85); font-family: Consolas, monospace, serif; font-variant-caps: normal; font-variant-ligatures: normal;">coroutine</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">就可以由一个线程并发执行。</span></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-evernote-highlight:true;">可以用单线程+</span><span style="font-size: 12px; white-space: nowrap; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(255, 250, 165); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(221, 0, 85); font-family: Consolas, monospace, serif; font-variant-caps: normal; font-variant-ligatures: normal;-evernote-highlight:true;">coroutine</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-evernote-highlight:true;">实现多用户的高并发支持。</span></span></div><div><br/></div><ul><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">async / await</span></div></li><li><div><span style="font-size: 12px; white-space: nowrap; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(250, 250, 250); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(221, 0, 85); font-family: Consolas, monospace, serif; font-variant-caps: normal; font-variant-ligatures: normal;">asyncio</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实现了TCP、UDP、SSL等协议，</span><span style="font-size: 12px; white-space: nowrap; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(250, 250, 250); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(221, 0, 85); font-family: Consolas, monospace, serif; font-variant-caps: normal; font-variant-ligatures: normal;">aiohttp</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">则是基于</span><span style="font-size: 12px; white-space: nowrap; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(250, 250, 250); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(221, 0, 85); font-family: Consolas, monospace, serif; font-variant-caps: normal; font-variant-ligatures: normal;">asyncio</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(102, 102, 102); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">实现的HTTP框架。</span></div></li></ul><div><br/></div><h2 style="padding: 0px; border: 0px; font-size: 1.28571rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.28571rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">asyncio中的基本概念
</span></h2><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">可以看见，使用asyncio库我们也可以在python代码中使用</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">async</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">和</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">await</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">。在</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">asyncio</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">中，有四个基本概念，分别是：
</span></div><h3 style="padding: 0px; border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.84615;">Eventloop
</span></h3><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Eventloop</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">可以说是</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">asyncio</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">应用的核心，中央总控，</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Eventloop</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">实例提供了注册、取消、执行任务和回调 的方法。 简单来说，就是我们可以把一些异步函数注册到这个事件循环上，事件循环回循环执行这些函数（每次只能执行一个），如果当前正在执行的函数在等待I/O返回，那么事件循环就会暂停它的执行去执行其他函数。当某个函数完成I/O后会恢复，等到下次循环到它的时候就会继续执行。
</span></div><h3 style="padding: 0px; border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.84615;">Coroutine
</span></h3><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">协程本质就是一个函数，
</span></div><div style="padding: 0px; border: 0px; font-size: 14px; line-height: 1.71429; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"/><h3 style="padding: 0px; border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.84615;">Future
</span></h3><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="background-color: rgb(255, 255, 255); font-size: 14px;"><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">是表示一个“未来”对象，类似于</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">javascript</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">中的</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">promise</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">，当异步操作结束后会把最终结果设置到这个</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象上，</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">是对协程的封装。
</span></span></div><div style="padding: 0px; border: 0px; font-size: 14px; line-height: 1.71429; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"/><h3 style="padding: 0px; border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.84615;">Task
</span></h3><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Eventloop</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">除了支持协程，还支持注册</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">和</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">2种类型的对象，而</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">是协程的封装，</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象提供了很多任务方法（如完成后的回调，取消，设置任务结果等等），但是一般情况下开发者不需要操作</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">这种底层对象，而是直接用</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">的子类</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">协同的调度协程来实现并发。那么什么是</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">呢？下面介绍下：</span></div><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;"> 一个与</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">类似的对象，可运行</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Python</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">协程。非线程安全。 </span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象被用来在事件循环中运行协程。如果一个协程在等待一个</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象，</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象会挂起该协程的执行并等待该</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象完成。当该</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象完成被打包的协程将恢复执行。 事件循环使用协同日程调度: 一个事件循环每次运行一个</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象。而一个</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象会等待一个</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象完成，该事件循环会运行其他</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">、回调或执行IO操作。</span></div><div style="padding: 0px; border: 0px; font-size: 14px; line-height: 1.71429; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em;"/><h2 style="padding: 0px; border: 0px; font-size: 1.28571rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.28571rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></h2><h2 style="padding: 0px; border: 0px; font-size: 1.28571rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.28571rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">asyncio中一些常见用法的区别
</span></h2><h3 style="padding: 0px; border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.84615;">Asyncio.gather和asyncio.wait
</span></h3><ol style="padding: 0px; border: 0px; font-size: 14px; list-style: decimal outside; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style=" padding: 0px; border: 0px; font-size: 14px; vertical-align: baseline;"><div><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">asyncio.gather</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">能收集协程的结果，而且会按照输入协程的顺序保存对应协程的执行结果，而</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">asyncio.wait</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">的返回值有两项，第一项是完成的任务列表，第二项表示等待完成的任务列表。</span></div></li><li style=" padding: 0px; border: 0px; font-size: 14px; vertical-align: baseline;"><div><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">asyncio.wait</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">支持接受一个参数</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">return_when</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">，在默认情况下，</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">asyncio.wait</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">会等待全部任务完成</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">(return_when='ALL_COMPLETED')</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">，它还支持</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">FIRST_COMPLETED</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">（第一个协程完成就返回）和</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">FIRST_EXCEPTION</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">（出现第一个异常就返回）</span></div></li></ol><div><br/></div><h3 style="padding: 0px; border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.84615;">asyncio.create_task和loop.create_task以及asyncio.ensure_future
</span></h3><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">这三种方法都可以创建</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">,从Python3.7开始可以统一的使用更高阶的</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">asyncio.create_task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">.其实</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">asyncio.create_task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">就是用的</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">loop.create_task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">. </span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">loop.create_task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">接受的参数需要是一个协程，但是</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">asyncio.ensure_future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">除了接受协程，还可以是</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象或者</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">awaitable</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象：
</span></div><ol style="padding: 0px; border: 0px; font-size: 14px; list-style: decimal outside; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style=" padding: 0px; border: 0px; font-size: 14px; vertical-align: baseline;"><div><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">如果参数是协程，其底层使用</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">loop.create_task</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">，返回</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">Task</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">对象</span></div></li><li style=" padding: 0px; border: 0px; font-size: 14px; vertical-align: baseline;"><div><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">如果是</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">Future</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">对象会直接返回</span></div></li><li style=" padding: 0px; border: 0px; font-size: 14px; vertical-align: baseline;"><div><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">如果是一个</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">awaitable</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">对象，会</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">await</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">这个对象的</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">__await__</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">方法，再执行一次</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">ensure_future</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">，最后返回</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">Task</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">或者</span><span style="border: 0px; font-size: 0.857143rem; color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;">Future</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">。</span></div></li></ol><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">所以</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">ensure_future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">方法主要就是确保这是一个</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">Future</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">对象，一般情况下直接用</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">asyncio.create_task</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">就可以了。
</span></div><h3 style="padding: 0px; border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 1.14286rem; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.84615;">注册回调和执行同步代码
</span></h3><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">可以使用</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">add_done_callback</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">来添加成功回调：
</span></div><div style="padding: 0px; border: 0px; font-size: 14px; background-color: rgb(255, 255, 255); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="padding: 1.71429rem; border: 1px solid rgb(237, 237, 237); font-size: 0.857143rem; vertical-align: baseline; overflow: auto;"><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">def</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">callback</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">future</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">):</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">print</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">f</span><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">'Result: {future.result()}'</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">)</span></div><div><br/></div><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">def</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">callback2</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">future</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">,</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">n</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">):</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">print</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">f</span><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">'Result: {future.result()}, N: </span><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">{n}</span><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">'</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">)</span></div><div><br/></div><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">async</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">def</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">funa</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">():</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">await</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">asyncio</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">sleep</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(28, 1, 206); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">1</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">)</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">return</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">"funa"</span></div><div><br/></div><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">async</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">def</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">main</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">():</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">task</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">=</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">asyncio</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">create_task</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">funa</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">())</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">task</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">add_done_callback</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">callback</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">)</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">await</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">task</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(23, 117, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">#这样可以为callback传递参数</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">task</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">=</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">asyncio</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">create_task</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">funa</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">())</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">task</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">add_done_callback</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">functools</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">partial</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">callback2</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">,</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">n</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">=</span><span style="border: 0px; font-size: 12px; color: rgb(28, 1, 206); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">1</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">))</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">await</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">task</span></div><div><br/></div><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">if</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">__name__</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">==</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">'__main__'</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">:</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">asyncio</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">run</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">main</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">())</span></div><div><br/></div></div></div><h4 style="padding: 0px; border: 0px; font-size: 14px; clear: both; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-size: 14px; clear: both; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.84615;">执行同步代码
</span></h4><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">如果有同步逻辑，想要用</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">asyncio</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">来实现并发，那么需要怎么做呢？下面看看：
</span></div><div style="padding: 0px; border: 0px; font-size: 14px; background-color: rgb(255, 255, 255); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="padding: 1.71429rem; border: 1px solid rgb(237, 237, 237); font-size: 0.857143rem; vertical-align: baseline; overflow: auto;"><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">def</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">a1</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">():</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">time</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">sleep</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(28, 1, 206); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">1</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">)</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">return</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">"A"</span></div><div><br/></div><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">async</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">def</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">b1</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">():</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">await</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">asyncio</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">sleep</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(28, 1, 206); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">1</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">)</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">return</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">"B"</span></div><div><br/></div><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">async</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">def</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">main</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">():</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">loop</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">=</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">asyncio</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">get_running_loop</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">()</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">await</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">asyncio</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">gather</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">loop</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">run_in_executor</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">None</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">,</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">a1</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">),</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">b1</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">())</span></div><div><br/></div><div><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">if</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">__name__</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">==</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">'__main__'</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">:</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">start</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">=</span><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;" /><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">time</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">perf_counter</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">()</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">asyncio</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">.</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">run</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">main</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">())</span></div><div><span style="font-size: 0.857143rem; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">    </span><span style="border: 0px; font-size: 12px; color: rgb(169, 13, 145); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">print</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">(</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">f</span><span style="border: 0px; font-size: 12px; color: rgb(196, 26, 22); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">'main method Cost: {time.perf_counter() - start}'</span><span style="border: 0px; font-size: 12px; color: rgb(102, 102, 102); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;">)</span></div><div><br/></div><div><span style="border: 0px; font-size: 12px; color: rgb(23, 117, 0); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;"># 输出： main method Cost: 1.0050589740000002</span></div><div><br/></div></div></div><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">可以使用</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">run_into_executor</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">来将同步函数逻辑转化成一个协程，第一个参数是要传递</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">concurrent.futures.Executor</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">实例的，传递</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">None</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">会选择默认的</span><span style="border: 0px; font-size: 0.857143rem; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2;-en-paragraph:true;">executor</span><span style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.71429;-en-paragraph:true;">。
</span></div><div style="padding: 0px; border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em;"><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><br/></div><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><br/></div><div style="margin: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></body></html>