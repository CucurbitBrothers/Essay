<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.0 (460661)"/><meta name="author" content="1404001663@qq.com"/><meta name="created" content="2018-08-14 14:51:43 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="yinxiang.win32"/><meta name="updated" content="2019-03-13 09:25:50 +0000"/><title>04-赋值、浅拷贝、深拷贝</title></head><body><div><ul><li><div><span style="font-size: 12pt;">直接赋值：其实就是对象的引用（别名）。</span></div></li><ul><li><div><span style="font-size: 12pt;">不会开辟新的内存，只是赋值了对象的引用，</span></div></li><li><div><span style="font-size: 12pt;">指向同一片内存，若该内存中的值发生了改变，则指向该内存的对象都会改变</span></div></li></ul></ul><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em;"/><ul><li><div><span style="font-size: 12pt;">浅拷贝(copy)：拷贝父对象，不会拷贝对象的内部的子对象。</span></div></li><ul><li><div><span style="font-size: 12pt;">浅拷贝会创建新对象，其内容是对原对象的引用；</span></div></li><li><div><span style="font-size: 12pt;">也就说是只拷贝院对象的顶层，或者说是表象，</span></div></li><li><div><span style="font-size: 12pt;">若原对象中还有一个其他对象的引用，比如说列表，修改了这个列表的值之后，也会对拷贝出来的对象产生影响</span></div></li><li><div><span style="font-size: 12pt;">主要有三种表现形式：</span></div></li><ul><li><div><span style="font-size: 12pt;">切片操作 ：&nbsp;&nbsp;b = a[:] 或者 b = [x for x in a]</span></div></li><li><div><span style="font-size: 12pt;">工厂函数： b = list(a)</span></div></li><li><div><span style="font-size: 12pt;">copy模块中的copy函数： b = copy.copy(a)</span></div></li></ul></ul><li><div><span style="font-size: 12pt;">深拷贝(deepcopy)：</span></div></li><ul><li><div><span style="font-size: 12pt;">copy 模块的 deepcopy 方法，完全拷贝了父对象及其子对象。</span></div></li><li><div><span style="font-size: 12pt;">是对原对象所有层次的拷贝，相当于拷贝出来原对象的所有数据另存一份。</span></div></li><li><div><span style="font-size: 12pt;">此时对原对象的所有修改都不会改变拷贝出来的对象</span></div></li></ul></ul><div><br/></div><ul><li><div><span style="font-size: 12pt;">注意点：</span></div></li><ul><li><div><span style="font-size: 12pt;">对于非容器类型，如数字、字符，以及其他的“原子”类型，没有拷贝一说，产生的都是原对象的引用。</span></div></li><li><div><span style="font-size: 12pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;">如果元组变量值包含原子类型对象，即使采用了深拷贝，也只能得到浅拷贝。</span></div></li></ul></ul><div><br/></div><ul><li><div><span style="font-size: 12pt;">Python中大多数时候都是浅拷贝</span></div></li><ul><li><div><span style="font-size: 12pt;">时间角度，浅拷贝花费时间更少</span></div></li><li><div><span style="font-size: 12pt;">空间角度，浅拷贝花费内存更少</span></div></li><li><div><span style="font-size: 12pt;">效率角度，浅拷贝只拷贝顶层数据，一般情况下比深拷贝效率高。</span></div></li></ul></ul><div><br/></div></div><div><br/></div></body></html>