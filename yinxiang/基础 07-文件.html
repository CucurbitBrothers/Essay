<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.0 (460661)"/><meta name="author" content="1404001663@qq.com"/><meta name="created" content="2018-08-06 08:12:59 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="yinxiang.win32"/><meta name="updated" content="2021-07-07 03:13:40 +0000"/><title>基础 07-文件</title></head><body><div><ul><li><div><font style="font-size: 14pt;"><b>文件</b></font></div></li><ul><li><div><font style="font-size: 12pt;">基础</font></div></li><ul><li><div>文件的作用</div></li><ul><li><div>就是把一些数据存放起来，可以让程序下一次执行的时侯直接调用，而不必重新制作一份，省时省力。</div></li></ul><li><div>文件类型：</div></li><ul><li><div>i. 文本数据文件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-> 字符串 </div></li><li><div>ii. 二进制数据文件&nbsp;&nbsp;&nbsp;&nbsp;-> 二进制 </div></li><li><div>类型转换</div></li><ul><li><div>字符串转换为二进制&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str.encode("utf-8")</div></li><li><div>二进制转字符串&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.decode()</div></li></ul></ul><li><div>在Windows系统中，如果写入数据包含中文，默认格式为 gbk。所以需加编码格式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open('test.txt'，"w", encoding = "utf-8")</div></li></ul><li><div><font style="font-size: 12pt;">操作</font></div></li><ul><li><div>f. open(文件名，访问模式)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3*4种访问模式</div></li><li><div>打开的文件记得在不用之后关闭，f.close( )</div></li><ul><li><div>或者使用&nbsp;&nbsp; <b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">with&nbsp;&nbsp;</b><span>&nbsp;&nbsp;打开，它会自动关闭</span></div></li></ul></ul></ul></ul><div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 79px;"/><col style="width: 1055px;"/></colgroup><tbody><tr><td style="border: 1px solid rgb(170, 170, 170); background-color: rgb(212, 212, 212); width: 79px; padding: 8px;"><div>访问模式</div></td><td style="border: 1px solid rgb(170, 170, 170); background-color: rgb(212, 212, 212); width: 1055px; padding: 8px;"><div>说明</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>r</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式，可以省略。</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>w</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>a</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>rb</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>以二进制格式打开一个文件用于只读</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>wb</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>以二进制格式打开一个文件只用于写入</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>ab</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>以二进制格式打开一个文件用于追加</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>r+</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>打开一个文件用于读写</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>w+</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>a+</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>rb+</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>二进制格式</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>wb+</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>二进制格式</div></td></tr><tr><td style="width: 79px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>ab+</div></td><td style="width: 1055px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>二进制格式</div></td></tr></tbody></table><div><br/></div></div><ul><li><div><font style="font-size: 12pt;"><b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">读数据</b></font></div></li></ul><ul><ul><li><div>read( x )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 读取x个字符 </div></li><li><div>readline()&nbsp;&nbsp;&nbsp;&nbsp; 读一行数据，将指针移至下一行开头 </div></li><li><div>readlines()&nbsp;&nbsp;&nbsp;&nbsp;按照行的方式将文件进行一次性读取，返回一个列表，每一行为一个元素 </div></li></ul><li><div>文件备份</div></li><ul><li><div>关于文件的备份，建议使用&nbsp;&nbsp;&nbsp;&nbsp;边读边写</div></li></ul></ul><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><ul><li><div>文件其他操作（os模块）</div></li></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 188px;"/><col style="width: 482px;"/></colgroup><tbody><tr><td style="width: 188px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>os.rename("old","new")</div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>重命名</div></td></tr><tr><td style="width: 188px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>os.remove("filename")</div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>删除文件</div></td></tr><tr><td style="width: 188px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>os.mkdir("filename")</div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>创建文件</div></td></tr><tr><td style="width: 188px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>os.getcwd()</div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>获取当前目录</div></td></tr><tr><td style="border: 1px solid rgb(204, 184, 121); background-color: rgb(255, 230, 151); width: 188px; padding: 8px;"><div><font>os.dirname()</font></div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div><br/></div></td></tr><tr><td style="width: 188px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>os.chdir("../")</div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>改变默认目录</div></td></tr><tr><td style="width: 188px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>os.listdir("./")</div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>获取目录列表</div></td></tr><tr><td style="width: 188px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>os.rmdir("file")</div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>删除文件夹（只能删除空文件夹）</div></td></tr><tr><td style="width: 188px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>os.path.exists( )</div></td><td style="width: 482px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div>判断是否存在该文件或者文件夹</div></td></tr></tbody></table><ul><li><div>如果要删除不为空的文件夹</div></li><ul><li><div>使用shutil模块&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li><li><div>shutil.rmtree("test")&nbsp;&nbsp;&nbsp;&nbsp;删除文件夹 （不管是否为空）</div></li></ul></ul></div><div><br/></div><div><br/></div></div></body></html>