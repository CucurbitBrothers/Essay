<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.0 (460661)"/><meta name="altitude" content="67.92265319824219"/><meta name="author" content="1404001663@qq.com"/><meta name="created" content="2018-09-28 12:47:43 +0000"/><meta name="latitude" content="39.98086931705663"/><meta name="longitude" content="116.3070738110502"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-02-14 10:08:59 +0000"/><title>005-Technology</title></head><body><div><br/></div><ul><li><div><span style="font-family: Menlo;">OAuth（</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Open Authorization</span><span style="font-family: Menlo;">）</span></div></li><ul><li><div><span style="font-family: Menlo;">OAuth协议为用户资源的授权提供了一个安全的，开放而又简易的标准</span></div></li><li><div><span style="font-family: Menlo;">客户端的授权模式</span></div></li><ul><li><div><span style="font-family: Menlo;">授权码模式</span></div></li><li><div><span style="font-family: Menlo;">简化模式</span></div></li><li><div><span style="font-family: Menlo;">密码模式</span></div></li><li><div><span style="font-family: Menlo;">客户端模式</span></div></li></ul></ul><li><div><span style="font-family: Menlo;">docker </span></div></li><ol><li><div><span style="font-family: Menlo;">打包</span></div></li><ol><li><div><span style="font-family: Menlo;"> 先登录   </span><a href="http://reg.linkdoc-inc.com/" style="font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;">reg.linkdoc-inc.com</a></div></li></ol><ul><li><div><span style="background-color: rgb(255, 255, 255); font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;">docker build -t </span><a href="http://reg.linkdoc-inc.com/dw_dp/dcp:$%7BCI_BUILD_TAG%7D" style="font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;">reg.linkdoc-inc.com/dw_dp/dcp:${CI_BUILD_TAG}</a><span style="font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;"> .</span></div></li><ul><li><div><span style="background-color: rgb(255, 255, 255); font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;">docker build -t </span><a href="http://reg.linkdoc-inc.com/dw_dp/dcp:$%7BCI_BUILD_TAG%7D" style="font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;">reg.linkdoc-inc.com/dw_dp/dcp:0.1.17</a><span style="font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;"> .</span></div></li><li><div><span style="font-family: Menlo;">正式上线需要改名</span></div></li><ul><li><div><span style="font-family: Menlo;">预发： lk-pre-dcp</span></div></li><li><div><span style="font-family: Menlo;">正式上线： lk-prod-dcp</span></div></li></ul></ul><li><div><span style="background-color: rgb(255, 255, 255); font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;">docker push </span><a href="http://reg.linkdoc-inc.com/dw_dp/dcp:$%7BCI_BUILD_TAG%7D" style="font-size: 11.3pt; color: rgb(0, 0, 0); font-family: Menlo;">reg.linkdoc-inc.com/dw_dp/dcp:${CI_BUILD_TAG}</a></div></li><li><div><span style="font-family: Menlo;">在服务器拉取docker镜像</span></div></li><li><div><span style="font-family: Menlo;">停止上个版本的镜像</span></div></li><ul><li><div><span style="font-family: Menlo;">sudo docker stop xxx</span></div></li></ul><li><div><span style="font-family: Menlo;">sudo docker run -d -e DCP_ENV=dev -p 8000:80 </span><a href="http://reg.linkdoc-inc.com/dw_dp/dcp:0.1.17" style="font-family: Menlo;">reg.linkdoc-inc.com/dw_dp/dcp:0.1.19</a> </div></li><li><div>sudo docker run -d -e DCP_ENV=dev <a href="http://reg.linkdoc-inc.com/dw_dp/dcp:0.3.2">reg.linkdoc-inc.com/dw_dp/dcp:0.3.2</a> make celery</div></li></ul><li><div>删除镜像/容器</div></li><ol><li><div>sudo docker rmi xxx (删除镜像)</div></li><ul><li><div><span style="font-size: 18px;">sudo docker images | grep none | awk '{ print $3 }' | xargs sudo docker rmi</span></div></li></ul><li><div>sudo docker rm xxxxxx （删除容器）</div></li><li><div><br/></div></li></ol></ol><li><div><span><font style="font-size: 14px;">celery</font></span></div></li><li><div><font style="font-size: 14px;">前端</font></div></li><ul><li><div><font style="font-size: 14px;">json</font></div></li><ul><li><div><font style="font-size: 14px;">JSON.stringify( )  做对象序列化的时候，</font><a href="https://juejin.im/entry/5978c9ea6fb9a03c350a2c85">https://juejin.im/entry/5978c9ea6fb9a03c350a2c85</a></div></li><ul><li><div><font style="font-size: 14px;">如果一个属性为函数，那这个属性就会被忽略，</font></div></li><li><div>属性值为 <span style="color: rgb(255, 55, 14); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13.05px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 195, 195);">undefined</span><span style="font-size: 13px; font-family: Menlo;"><font style="color: rgb(0, 0, 0); --inversion-type-color: simple;"> 也会被忽略</font></span></div></li></ul></ul></ul></ul><div><br/></div><div><br style="font-family: Menlo;"/></div><div><br/></div></body></html>