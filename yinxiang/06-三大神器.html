<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.0 (460661)"/><meta name="author" content="1404001663@qq.com"/><meta name="created" content="2018-09-01 11:21:07 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="yinxiang.win32"/><meta name="source-url" content="https://eastlakeside.gitbooks.io/interpy-zh/content/Generators/Iterator.html"/><meta name="updated" content="2020-05-06 05:24:51 +0000"/><title>06-三大神器</title></head><body><div><ul><li><div><span style="font-size: 14pt; font-weight: bold;">知识点：</span></div></li><ol><li><div><span style="font-size: 10pt;">装饰器</span></div></li><ol><li><div>装饰器本质上是一个 Python 函数，它可以让其他函数在不需要做任何代码变动的前提下增加额外功能，装饰器的<span style="font-size: 10pt;">返回值也是一个函数对象</span></div></li><ul><li><div><span style="font-size: 10pt;">闭包</span></div></li><ul><li><div><span style="font-size: 10pt;">在函数内部再定义一个函数，并且这个函数用到了外边函数的变量，那么将这个函数以及用到的一些变量称之为闭包。</span></div></li><li><div><span style="letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">内部函数对外部函数作用域里变量的引用（非全局变量），则称内部函数为闭包</span></span></div></li></ul></ul><li><div><span style="font-size: 13px; color: rgb(51, 51, 51);">使用场景</span></div></li><ol><li><div><span style="font-size: 13px; color: rgb(51, 51, 51);">参数检查，缓存，代理，提供上下文</span></div></li></ol></ol><li><div><span style="font-size: 10pt;">迭代器（ Iterator）</span></div></li><ol><li><div><span style="font-size: 15.4px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); color: rgb(176, 183, 195); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, 微软雅黑, 华文细黑, STHeiti, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">迭代器是访问集合元素的一种方式</span></div></li><li><div><span style="font-size: 15.4px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); color: rgb(176, 183, 195); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, 微软雅黑, 华文细黑, STHeiti, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">迭代器从集合的第一个元素开始访问，直到所有的元素被访问一遍后结束，迭代器只能前进不会后退</span></div></li><li><div><span style="font-size: 15.4px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); color: rgb(176, 183, 195); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, 微软雅黑, 华文细黑, STHeiti, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">迭代器有两个基本的方法：next方法，返回下一个元素，</span><span style="font-size: 15.4px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); color: rgb(176, 183, 195); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, 微软雅黑, 华文细黑, STHeiti, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">iter方法，返回迭代器本身</span></div></li><li><div><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;;">迭代（iteration）</span></div></li><ul><li><div><font style="font-size: 10pt;"><span style="letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">用简单的话讲，它就是从某个地方（比如一个列表）取出一个元素的过程。当我们使用一个循环来遍历某个东西时，这个过程本身就叫迭代。</span></font></div></li></ul></ol><li><div><span style="font-size: 10pt;">生成器</span></div></li><ol><li><div><span style="font-size: 15.4px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); color: rgb(176, 183, 195); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, 微软雅黑, 华文细黑, STHeiti, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">使用了yield的函数被称为生成器，</span><span style="font-size: 15.4px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); color: rgb(176, 183, 195); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Microsoft Yahei&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, 微软雅黑, 华文细黑, STHeiti, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">跟普通函数不同的是，生成器是一个返回迭代器的函数，只能用于迭代操作，所以说生成器是特殊的迭代器</span></div></li><li><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;;">使用</span><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;;">场景</span></div></li><ol><li><div><font style="font-size: 10pt;"><span style="letter-spacing: 0.2px; orphans: 3; text-indent: 0px; text-transform: none; white-space: normal; widows: 3; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">你不想同一时间将所有计算出来的大量结果集分配到内存当中，特别是结果集里还包含循环</span></font></div></li><li><div><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;;">range Python2返回列表，Python3返回生成器</span></div></li></ol></ol></ol></ul><div><br style="font-size: 12pt;"/></div><div><br style="font-size: 12pt;"/></div><div><br/></div><div>装饰器：</div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; break-after: avoid; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">例1:无参数的函数</span></span></h3><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">from</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">time</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">import</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">ctime, sleep</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">timefun</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(func)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"%s called at %s"</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">% (func.__name__, ctime()))</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">        func()</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    return</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">@timefun</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"I am foo"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo()</span></span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">sleep(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo()</span></span></div></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">上面代码理解装饰器执行行为可理解成</span></span></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo = timefun(foo)</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;"># foo先作为参数赋值给func后,foo接收指向timefun返回的wrapped_func</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo()</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;"># 调用foo(),即等价调用wrapped_func()</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;"># 内部函数wrapped_func被引用，所以外部函数的func变量(自由变量)并没有释放</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;"># func里保存的是原foo函数对象</span></span></div></div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; break-after: avoid; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">例2:被装饰的函数有参数</span></span></h3><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">from</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">time</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">import</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">ctime, sleep</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">timefun</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(func)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(a, b)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"%s called at %s"</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">% (func.__name__, ctime()))</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">        print(a, b)</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">        func(a, b)</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    return</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">@time</span><span style="letter-spacing: 0.2px; -webkit-font-smoothing: antialiased; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; background-position: 0px 0px;">fun</span></div><div><span style="letter-spacing: 0.2px; -webkit-font-smoothing: antialiased; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; background-position: 0px 0px;">def</span> <span style="letter-spacing: 0.2px; -webkit-font-smoothing: antialiased; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; background-position: 0px 0px;">foo</span><span style="letter-spacing: 0.2px; -webkit-font-smoothing: antialiased; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; background-position: 0px 0px;">(a, b)</span><span style="letter-spacing: 0.2px; -webkit-font-smoothing: antialiased; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">    print(a+b)</span></span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">3</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">,</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">5</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">sleep(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">,</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">4</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div></div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; break-after: avoid; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">例3:被装饰的函数有不定长参数</span></span></h3><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">from</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">time</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">import</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">ctime, sleep</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">timefun</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(func)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(*args, **kwargs)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"%s called at %s"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">%(func.__name__, ctime()))</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">        func(*args, **kwargs)</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    return</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">@timefun</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(a, b, c)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">    print(a+b+c)</span></span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">3</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">,</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">5</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">,</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">7</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">sleep(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">,</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">4</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">,</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">9</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div></div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; break-after: avoid; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">例4:装饰器中的return</span></span></h3><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">from</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">time</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">import</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">ctime, sleep</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">timefun</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(func)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"%s called at %s"</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">% (func.__name__, ctime()))</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">        ret = func()</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">        return ret</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    return</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">@timefun</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"I am foo"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">@timefun</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">getInfo</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    return</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">'----hahah---'</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo()</span></span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">sleep(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo()</span></span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">print(getInfo())</span></span></div></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">执行结果:</span></span></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo called at Fri Nov</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">4</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">21</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">55</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">57</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2016</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">I am foo</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo called at Fri Nov</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">4</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">21</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">55</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">59</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2016</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">I am foo</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">getInfo called at Fri Nov</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">4</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">21</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">55</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">59</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2016</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">----hahah---</span></span></div></div><h4 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; break-after: avoid; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">总结：</span></span></h4><ul style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><li style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none;"><div><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">一般情况下为了让装饰器更通用，可以有return</span></div></li></ul><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; break-after: avoid; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">例5:装饰器带参数,在原有装饰器的基础上，设置外部变量</span></span></h3><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">#decorator2.py</span></span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">from</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">time</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">import</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">ctime, sleep</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">timefun_arg</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(pre=</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"hello"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">timefun</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(func)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">            print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"%s called at %s %s"</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">% (func.__name__, ctime(), pre))</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">            return</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">func()</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        return</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">wrapped_func</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    return</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">timefun</span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># 下面的装饰过程</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># 1. 调用timefun_arg("itcast")</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># 2. 将步骤1得到的返回值，即time_fun返回， 然后time_fun(foo)</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># 3. 将time_fun(foo)的结果返回，即wrapped_func</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># 4. 让foo = wrapped_fun，即foo现在指向wrapped_func</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">@timefun_arg("itcast")</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">foo</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"I am foo"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">@timefun_arg("python")</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">too</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"I am too"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo()</span></span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">sleep(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo()</span></span></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">too()</span></span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">sleep(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">2</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">too()</span></span></div></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">可以理解为</span></span></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; white-space: pre; direction: ltr; border: none; overflow: auto; word-wrap: normal; background: 0px 0px; letter-spacing: 0.2px; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">foo()==timefun_arg("itcast")(foo)()</span></span></div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; break-after: avoid; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">例6：类装饰器（扩展，非重点）</span></span></h3><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">装饰器函数其实是这样一个接口约束，它必须接受一个callable对象作为参数，然后返回一个callable对象。在Python中一般callable对象都是函数，但也有例外。只要某个对象重写了</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; direction: ltr; border: none; background-color: rgb(247, 247, 247); font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">__call__()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">方法，那么这个对象就是callable的。</span></font></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">class</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">Test</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">__call__</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(self)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">'call me!'</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><br style="font-family: &quot;Helvetica Neue&quot;; color: rgb(51, 51, 51);"/></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">t = Test()</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">t()</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># call me</span></div></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 0px; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; letter-spacing: 0.2px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">类装饰器demo</span></span></div><div style="-webkit-font-smoothing: antialiased; box-sizing: border-box; white-space: pre-wrap; direction: ltr; border: none; overflow: auto; word-wrap: normal; margin: 0px 0px 1.275em; padding: 0.85em 1em; background-color: rgb(247, 247, 247); letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">class</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">Test</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(object)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">__init__</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(self, func)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"---初始化---"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"func name is %s"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">%func.__name__)</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">        self.__func = func</span></span></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">__call__</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">(self)</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">        print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"---装饰器中的功能---"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">        self.__func()</span></span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">#说明：</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">#1. 当用Test来装作装饰器对test函数进行装饰的时候，首先会创建Test的实例对象</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># 并且会把func这个函数名当做参数传递到__init__方法中</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># 即在__init__方法中的属性__func指向了func指向的函数</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">#2. func指向了用Test创建出来的实例对象</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">#</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">#3. 当在使用test()进行调用时，就相当于让这个对象()，因此会调用这个对象的__call__方法</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">#</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">#4. 为了能够在__call__方法中调用原来test指向的函数体，</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">所以在__init__方法中就需要一个实例属性来保存这个函数体的引用</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;"># 所以才有了self.__func = func这句代码，从而在调用__call__方法中能够调用到test之前的函数体</span></font></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">@Test</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(137, 89, 168); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">def</span> <span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">test</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(245, 135, 31); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(66, 113, 174); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">:</span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">    print(</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(113, 140, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">"----test---"</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">)</span></font></div><div><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; direction: ltr; border: none; background: 0px 0px; white-space: pre;"><span style="font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">test()</span></span></div><div><font style="font-size: 10pt;"><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">showpy()</span><span style="-webkit-font-smoothing: antialiased; box-sizing: border-box; direction: ltr; border: none; white-space: pre; font-size: 10pt; break-inside: avoid; color: rgb(142, 144, 140); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal; background-position: 0px 0px;">#如果把这句话注释，重新运行程序，依然会看到"--初始化--"</span></font></div></div><h3 style="-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; orphans: 3; widows: 3; margin-top: 1.275em; margin-bottom: 0.85em; letter-spacing: 0.2px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></h3><div><br/></div><div><br/></div><ul><li><div><span style="font-size: 14pt; font-weight: bold;">题</span></div></li><ol><li><div><span style="font-size: 10pt;">带参数的装饰器有几层</span></div></li><ol><li><div><span style="font-size: 10pt;">在原函数外层加了三层</span></div></li></ol><li><div><span style="font-size: 10pt;">分别描述类装饰器和函数装饰器的实现过程以及应用场景</span></div></li><ol><li><div><span style="font-size: 10pt;">实现原理</span></div></li><ul><li><div><span style="font-size: 10pt;">类装饰器：</span></div></li><li><div><span style="font-size: 10pt;">函数装饰器：</span></div></li></ul><li><div><span style="font-size: 10pt;">应用场景</span></div></li><ul><li><div><span style="font-size: 10pt;">插入日志、性能测试、事务处理、缓存、权限校验等</span></div></li></ul></ol><li><div><span style="font-size: 10pt;">yield的作用</span></div></li><ul><li><div><span style="font-size: 10pt;">yield是一个关键词，类似return, 不同之处在于，yield返回的是一个生成器</span></div></li><li><div><span style="font-size: 10pt;">而生成器是一种特殊的迭代器，它只会读取一次可迭代对象，实时生成数据，而不是读取可迭代对象的所有数据，相对而言会节约内存。</span></div></li><li><div><span style="font-size: 10pt;">回到yield，当函数内部使用yield代替return后，在你调用时，并不会立即执行，而是返回一个生成器对象</span></div></li><ul><li><div><span style="font-size: 10pt;">可以借助for循环来遍历所以数据</span></div></li><li><div><span style="font-size: 10pt;">也可以通过next方法来获取下一条数据</span></div></li><li><div><span style="font-size: 10pt;">或者借助send传递附加数据</span></div></li></ul><li><div><span style="font-size: 10pt;">yield的作用：</span></div></li><ul><li><div><span style="font-size: 10pt;">保存当前运行状态（断点），然后暂停执行，即将生成器挂起</span></div></li><li><div><span style="font-size: 10pt;">将yield关键字后面表达式的值作为返回值返回，</span></div></li></ul></ul></ol></ul></div><div><br/></div></body></html>